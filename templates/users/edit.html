<div ng-init="updateUser()">
  <form ng-submit="submitUpdateUser()" class="form-vertical">
    <div class="control-group">
      <!-- user - update -->
      <h3>Update:</h3>
      <div class="controls user_new_form">
        <input type="text" ng-model="user.firstname" placeholder="first name" class="form-control user_new_input" required/>
        <br>
        <input type="text" ng-model="user.lastname" placeholder="last name" class="form-control user_new_input" required/>
        <br>
        <input type="text" ng-model="user.email" placeholder="email" class="form-control user_new_input" required/>
        <br>
        <input type="password" ng-model="user.password" placeholder="password" class="form-control user_new_input" />
        <br>
        <input type="password" ng-model="user.password_confirmation" placeholder="confirm password" class="form-control user_new_input" />
        <br>
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <input class="btn btn-primary" type="submit" value="update user"/>
      </div>
    </div>
  </form>

  <br><br>

  <!-- main image -->
  Main Image
  <div" ng-init="images()" ng-userprimaryimage>
    <div ng-repeat="userImage in userImages">
      <div ng-show="userImage.id == $root.userImagePrimary" ng-showimage ng-image="{{userImage.image.thumb.url}}" ></div>
    </div>
  </div>

  <!-- show user images - allow to update -->
  <div ng-userprimaryimage>
    <form class="form-vertical">
      <div ng-repeat="userImage in userImages">
        <a class="hand" ng-click="submitUpdateUserPrimaryImage(userImage.id)">
          <span id="image_{{userImage.id}}" ng-showimage ng-image="{{userImage.image.thumb.url}}"></span>
        </a>
      </div>
    </form>
  </div>

  <div>
  <input type="file" ng-file-select="onFileSelect($files)" multiple>
  </div>
</div>
